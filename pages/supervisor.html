<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Supervisor ‚Ä¢ Hospital ERP</title>
  <link rel="stylesheet" href="../styles/styles.css" />
  <link rel="stylesheet" href="../styles/ui.css" />
</head>
<body>
  <!-- Banner -->
  <header class="banner">
    <div class="brand">
      <span class="brand-mark">üßë‚Äçüíº</span>
      <span class="brand-title">Supervisor</span>
    </div>
    <button id="themeToggle" class="toggle">üåô</button>
  </header>

  <!-- Toolbar -->
  <nav class="toolbar">
    <a class="chip" href="./login.html">‚Üê Login</a>
    <button id="btnClear" class="chip">Clear Cache</button>
  </nav>

  <main class="section">
    <div class="card-grid">
      <!-- Bookings (create/edit slots + unique patient id) -->
      <a class="card grad-mint" href="./booking-status.html">
        <h2>Bookings</h2>
        <p>Book & edit slots / appointments ‚Ä¢ New booking creates Unique Patient ID</p>
      </a>

      <!-- Pharmacy suite -->
      <a class="card grad-sky" href="./pharmacy.html">
        <h2>Pharmacy</h2>
        <p>Sell ‚Ä¢ Purchase ‚Ä¢ Stock ‚Ä¢ Reports</p>
      </a>

      <!-- Patients quick link (optional) -->
      <a class="card grad-rose" href="./patients.html">
        <h2>Patients</h2>
        <p>Find / verify patient by Unique ID</p>
      </a>

      <!-- Inventory quick tools in Admin -->
      <a class="card grad-lavender" href="./admin.html">
        <h2>Admin Tools</h2>
        <p>Scan to upload stock ‚Ä¢ CSV import/export ‚Ä¢ Backups</p>
      </a>
    </div>
  </main>

  <footer class="footer">Supervisor ¬∑ Hospital ERP</footer>

  <script>
    (function(){
      const root=document.documentElement, btn=document.getElementById('themeToggle');
      const saved=localStorage.getItem('theme')||'light';
      root.dataset.theme=saved; btn.textContent=saved==='dark'?'üåô':'üåû';
      btn.onclick=()=>{ const next=root.dataset.theme==='dark'?'light':'dark';
        root.dataset.theme=next; localStorage.setItem('theme',next);
        btn.textContent=next==='dark'?'üåô':'üåû';
      };
    })();

    document.getElementById('btnClear').onclick = async ()=>{
      try{
        if('caches' in window){ const ks=await caches.keys(); await Promise.all(ks.map(k=>caches.delete(k))); }
      }catch{}
      const keepTheme = localStorage.getItem('theme');
      localStorage.clear();
      if (keepTheme) localStorage.setItem('theme', keepTheme);
      location.reload();
    };
  </script>
</body>
</html>
